1.
	Можно офрмить модулем, у которого будут настройки когда работает скидка, на какой по счёту товар делать скидку и какова цена будет у этого товара. В модуле написать обработчик события добавления, изменнеия и удаления товара в корзине (изменение корзины в целом). Реагируем на это по следующему алгоритму:
		1. Сверяем интервал активности акции с текущим временем, если идёт время акции - идём дальше.
		2. Выясняем сколько товаров в корзине, если два и более, идём дальше.
		3. Считаем на сколько товаров нам нужно сделать скидку (общее количество товаров в корзине делим на N (где N - номер товара в корзине, у которого надо поменять скидку) и округляем полученное число в меньшую сторону до целого).
		4. Сортируем товары в корзине по цене по возрастанию.
		5. Циклом пробегаемся по товарам в корзине (т.к. отсортировали, цикл начинается с дешёвых товаров). Изменяем цены у товаров и считаем у скольких товаров её изменили. Если количество одной позиции, скажем 3, а нужно изменить цену у 2-х, то необходимо доавить новую запись в корзине с 1 товаром по его реальной цене, а количество у предыдущей записи корзины изменить на 2. Причём цены на товары по акции менять с отменой функций сверки цен (CALLBACK_FUNC). 